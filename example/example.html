<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>SnowJS | example</title>
    <script src="../dist/bundle.js"></script>
    <link rel="stylesheet" href="./index.css" />
  </head>
  <body>
    <button id="start">SNOW</button>
    <div class="snow-area"></div>
    <div class="controller">
      <div class="label">text</div>
      <input type="text" name="text" value="*" bind-value />
      <div class="label">frequency</div>
      <input type="number" name="frequency" value="20" bind-value />
      <div class="label">min-speed</div>
      <input
        type="range"
        name="speed"
        min="0.5"
        max="10"
        step="0.1"
        bind-value
      />
      <div class="label">max-speed</div>
      <input
        type="range"
        name="speed"
        min="0.5"
        max="10"
        step="0.1"
        bind-value
      />
      <div class="label">min-size</div>
      <input
        type="range"
        name="speed"
        min="0.5"
        max="10"
        step="0.1"
        bind-value
      />
      <div class="label">max-size</div>
      <input
        type="range"
        name="speed"
        min="0.5"
        max="10"
        step="0.1"
        bind-value
      />
      <div class="label">type</div>
      <select name="type" bind-value>
        <option value="square">사각형</option>
        <option value="circle">원</option>
        <option value="text">텍스트</option>
      </select>
    </div>
    <script>
      const snowjs = new SnowJS({
        el: ".snow-area",
        frequency: 15,
        speedRange: [3, 4],
        radiusRange: [5, 5],
        colors: [
          "rgba(255,128,128,0.7)",
          "rgba(255,255,128,0.7)",
          "rgba(128,255,255,0.7)",
        ],
      });
      document.getElementById("start").onclick = () => {
        snowjs.start();
      };

      window.onload = () => {
        [...document.querySelectorAll("[bind-value]")].map((item) => {
          item.addEventListener("change", () => {
            const config = { ...snowjs.config };
            config[item.getAttribute("name")] = item.value;
            console.log(item.getAttribute("name"), item.value);
            snowjs.set(config);
          });
        });
      };
    </script>
  </body>
</html>
